tinymce.PluginManager.add('gallery', function(editor, url) {
  var gallery_click_handler = editor.getParam('gallery_click_handler', undefined, 'function')
  editor.ui.registry.getAll().icons.axupimgs || editor.ui.registry.addIcon('gallery', '<svg t="1610354650603" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1328" width="24" height="24"><path d="M261.51171875 812.05859375a39.0234375 39.0234375 0 0 1-26.3671875-10.546875 39.55078125 39.55078125 0 0 1-2.109375-55.8984375l47.72460938-50.88867188a108.89648438 108.89648438 0 0 1 79.10156249-34.8046875 109.16015625 109.16015625 0 0 1 79.1015625 34.8046875l2.63671875 2.90039063a18.19335938 18.19335938 0 0 0 13.7109375 5.53710937 17.13867188 17.13867188 0 0 0 13.18359375-6.59179687l76.20117188-93.33984375a109.42382813 109.42382813 0 0 1 84.63867187-40.078125 108.89648438 108.89648438 0 0 1 84.63867188 41.1328125l79.1015625 98.34960938a39.55078125 39.55078125 0 1 1-61.96289063 49.30664062l-79.1015625-98.34960938a31.11328125 31.11328125 0 0 0-23.203125-11.33789062 29.53125 29.53125 0 0 0-23.203125 11.07421875l-74.8828125 93.33984375A97.29492188 97.29492188 0 0 1 459.265625 782.26367188a95.44921875 95.44921875 0 0 1-74.09179688-30.84960938l-3.42773437-2.109375a30.84960938 30.84960938 0 0 0-43.76953125 0l-47.4609375 50.36132813a40.34179688 40.34179688 0 0 1-29.00390625 12.39257812z" p-id="1329"></path><path d="M366.98046875 522.01953125m-65.91796875 0a65.91796875 65.91796875 0 1 0 131.8359375 0 65.91796875 65.91796875 0 1 0-131.8359375 0Z" p-id="1330"></path><path d="M828.40625 380.1640625a26.3671875 26.3671875 0 0 1 26.3671875 26.3671875v421.875a26.3671875 26.3671875 0 0 1-26.3671875 26.3671875H195.59375a26.3671875 26.3671875 0 0 1-26.3671875-26.3671875V406.53125a26.3671875 26.3671875 0 0 1 26.3671875-26.3671875h632.8125m0-79.1015625H195.59375a105.46875 105.46875 0 0 0-105.46875 105.46875v421.875a105.46875 105.46875 0 0 0 105.46875 105.46875h632.8125a105.46875 105.46875 0 0 0 105.46875-105.46875V406.53125a105.46875 105.46875 0 0 0-105.46875-105.46875z" p-id="1331"></path><path d="M221.9609375 195.59375m39.55078125 0l500.9765625 0q39.55078125 0 39.55078125 39.55078125l0 0q0 39.55078125-39.55078125 39.55078125l-500.9765625 0q-39.55078125 0-39.55078125-39.55078125l0 0q0-39.55078125 39.55078125-39.55078125Z" p-id="1332"></path><path d="M301.0625 90.125m39.55078125 0l342.7734375 0q39.55078125 0 39.55078125 39.55078125l0 0q0 39.55078125-39.55078125 39.55078125l-342.7734375 0q-39.55078125 0-39.55078125-39.55078125l0 0q0-39.55078125 39.55078125-39.55078125Z" p-id="1333"></path></svg>')
  editor.ui.registry.addButton('gallery', {
    icon: 'gallery',
    tooltip: '图集',
    onAction: function() {
      gallery_click_handler()
    }
  })
})
